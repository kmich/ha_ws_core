# =============================================================================
# WEATHER STATION VANILLA DASHBOARD v1.1.0
# =============================================================================
# Uses ONLY native Home Assistant cards. No HACS frontend dependencies.
#
# Usage: Dashboard > Edit > Raw Configuration Editor > paste > save
#
# Assumes default prefix "ws". If you used a different prefix,
# find-and-replace "sensor.ws_" with "sensor.YOURPREFIX_"
# and "weather.ws" with "weather.YOURPREFIX".
#
# Feature toggles:
#   Extended analysis sensors (Zambretti, classifier, display banners)
#   are only available if "Extended analysis" is enabled in settings.
#   Activity scores require "Activity scores" to be enabled.
# =============================================================================

views:
  # =============================================
  # PAGE 1: MAIN WEATHER (core sensors only)
  # =============================================
  - title: Weather
    path: weather
    icon: mdi:weather-partly-cloudy
    cards:
      # --- Weather entity card (built-in) ---
      - type: weather-forecast
        entity: weather.ws
        show_forecast: true
        forecast_type: daily

      # --- Current conditions grid ---
      - type: grid
        columns: 3
        square: false
        cards:
          - type: entity
            entity: sensor.ws_temperature
            name: Temperature
            icon: mdi:thermometer
          - type: entity
            entity: sensor.ws_feels_like
            name: Feels Like
            icon: mdi:thermometer-lines
          - type: entity
            entity: sensor.ws_humidity
            name: Humidity
            icon: mdi:water-percent
          - type: entity
            entity: sensor.ws_dew_point
            name: Dew Point
            icon: mdi:weather-fog
          - type: entity
            entity: sensor.ws_wet_bulb
            name: Wet Bulb
            icon: mdi:thermometer-water
          - type: entity
            entity: sensor.ws_frost_point
            name: Frost Point
            icon: mdi:snowflake-thermometer

      # --- Wind ---
      - type: entities
        title: Wind
        icon: mdi:weather-windy
        entities:
          - entity: sensor.ws_wind_speed
            name: Speed
          - entity: sensor.ws_wind_gust
            name: Gust
          - entity: sensor.ws_wind_direction
            name: Direction
          - entity: sensor.ws_wind_beaufort
            name: Beaufort Scale
          - entity: sensor.ws_wind_quadrant
            name: Quadrant
          - entity: sensor.ws_wind_gust_max_24h
            name: Max Gust (24h)

      # --- Pressure ---
      - type: entities
        title: Pressure
        icon: mdi:gauge
        entities:
          - entity: sensor.ws_station_pressure
            name: Station
          - entity: sensor.ws_sea_level_pressure
            name: Sea Level (MSLP)

      # --- Precipitation ---
      - type: entities
        title: Precipitation
        icon: mdi:weather-rainy
        entities:
          - entity: sensor.ws_rain_total
            name: Rain Total
          - entity: sensor.ws_rain_rate
            name: Rain Rate
          - entity: sensor.ws_rain_probability
            name: Rain Probability (local)
          - entity: sensor.ws_rain_probability_combined
            name: Rain Probability (combined)

      # --- UV & Solar ---
      - type: entities
        title: UV & Solar
        icon: mdi:weather-sunny-alert
        entities:
          - entity: sensor.ws_uv_index
            name: UV Index
          - entity: sensor.ws_illuminance
            name: Illuminance

      # --- 24h Statistics ---
      - type: grid
        columns: 3
        square: false
        cards:
          - type: entity
            entity: sensor.ws_temperature_high_24h
            name: High (24h)
            icon: mdi:thermometer-high
          - type: entity
            entity: sensor.ws_temperature_low_24h
            name: Low (24h)
            icon: mdi:thermometer-low
          - type: entity
            entity: sensor.ws_wind_gust_max_24h
            name: Max Gust (24h)
            icon: mdi:weather-windy-variant

      # --- Temperature history ---
      - type: history-graph
        title: Temperature (24h)
        hours_to_show: 24
        entities:
          - entity: sensor.ws_temperature
            name: Actual
          - entity: sensor.ws_feels_like
            name: Feels Like
          - entity: sensor.ws_dew_point
            name: Dew Point

      # --- Pressure history ---
      - type: history-graph
        title: Pressure (24h)
        hours_to_show: 24
        entities:
          - entity: sensor.ws_sea_level_pressure
            name: MSLP

      # --- Wind history ---
      - type: history-graph
        title: Wind (24h)
        hours_to_show: 24
        entities:
          - entity: sensor.ws_wind_speed
            name: Speed
          - entity: sensor.ws_wind_gust
            name: Gust

  # =============================================
  # PAGE 2: EXTENDED ANALYSIS
  # =============================================
  # Requires "Extended analysis" enabled in Configure.
  - title: Analysis
    path: analysis
    icon: mdi:chart-line
    cards:
      - type: markdown
        content: >-
          These sensors require **Extended analysis** to be enabled in
          Settings → Devices & Services → Weather Station Core → Configure.

      # --- Zambretti Forecast ---
      - type: conditional
        conditions:
          - condition: state
            entity: sensor.ws_zambretti_forecast
            state_not: unavailable
        card:
          type: entities
          title: Zambretti Forecast
          icon: mdi:crystal-ball
          entities:
            - entity: sensor.ws_zambretti_forecast
              name: Forecast
            - entity: sensor.ws_current_condition
              name: Current Condition

      # --- Display Sensors ---
      - type: conditional
        conditions:
          - condition: state
            entity: sensor.ws_pressure_trend
            state_not: unavailable
        card:
          type: entities
          title: Display Sensors
          icon: mdi:format-list-text
          entities:
            - entity: sensor.ws_pressure_trend
              name: Pressure Trend
            - entity: sensor.ws_rain_display
              name: Rain Intensity
            - entity: sensor.ws_humidity_level
              name: Humidity Level
            - entity: sensor.ws_uv_level
              name: UV Level
            - entity: sensor.ws_station_health
              name: Station Health

  # =============================================
  # PAGE 3: STATION HEALTH
  # =============================================
  - title: Station
    path: station
    icon: mdi:heart-pulse
    cards:
      - type: entities
        title: Station Health
        icon: mdi:heart-pulse
        entities:
          - entity: binary_sensor.ws_package_ok
            name: Package OK
          - entity: sensor.ws_data_quality_banner
            name: Data Quality
          - entity: sensor.ws_alert_state
            name: Alert State
          - entity: sensor.ws_alert_message
            name: Alert Message

      # --- Battery ---
      - type: conditional
        conditions:
          - condition: state
            entity: sensor.ws_battery
            state_not: unavailable
        card:
          type: entity
          entity: sensor.ws_battery
          name: Station Battery

      # --- Rain history ---
      - type: history-graph
        title: Rain Rate (24h)
        hours_to_show: 24
        entities:
          - entity: sensor.ws_rain_rate
            name: Filtered
          - entity: sensor.ws_rain_rate_raw
            name: Raw

  # =============================================
  # PAGE 4: ACTIVITY SCORES
  # =============================================
  # Requires "Activity scores" enabled in Configure.
  - title: Activities
    path: activities
    icon: mdi:run
    cards:
      - type: markdown
        content: >-
          Activity scores require **Activity scores** to be enabled in
          Settings → Devices & Services → Weather Station Core → Configure.

      - type: grid
        columns: 2
        square: false
        cards:
          - type: conditional
            conditions:
              - condition: state
                entity: sensor.ws_laundry_drying_score
                state_not: unavailable
            card:
              type: entity
              entity: sensor.ws_laundry_drying_score
              name: Laundry Drying
              icon: mdi:hanger
          - type: conditional
            conditions:
              - condition: state
                entity: sensor.ws_running_score
                state_not: unavailable
            card:
              type: entity
              entity: sensor.ws_running_score
              name: Running
              icon: mdi:run
          - type: conditional
            conditions:
              - condition: state
                entity: sensor.ws_stargazing_quality
                state_not: unavailable
            card:
              type: entity
              entity: sensor.ws_stargazing_quality
              name: Stargazing
              icon: mdi:telescope
          - type: conditional
            conditions:
              - condition: state
                entity: sensor.ws_fire_risk_score
                state_not: unavailable
            card:
              type: entity
              entity: sensor.ws_fire_risk_score
              name: Fire Risk
              icon: mdi:fire
